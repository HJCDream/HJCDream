<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.hjc.springbootwechatshop.dao.ShopCarMapper">
    <resultMap id="shopCarMap" type="com.hjc.springbootwechatshop.domain.shopCar">
        <id column="ShopCarId" property="shopCarId" jdbcType="INTEGER"/>
        <result column="UserNum" property="userNum" jdbcType="VARCHAR"/>
        <result column="ProductName" property="productName" jdbcType="VARCHAR"/>
        <result column="ProductID" property="productId" jdbcType="INTEGER"/>
        <result column="count" property="count" jdbcType="INTEGER"/>
        <result column="select" property="select" jdbcType="VARCHAR"/>
    </resultMap>
    <sql id="notid">
        UserNum,ProductName,ProductID,count,`select`
    </sql>
    <insert id="putInCar">
        INSERT INTO shopcar(<include refid="notid"></include>)VALUES(#{userNum,jdbcType=VARCHAR},#{productName,jdbcType=VARCHAR}
        ,#{productId,jdbcType=INTEGER},#{count,jdbcType=INTEGER},#{select,jdbcType=VARCHAR})
    </insert>
    <update id="updateSelect" >
        UPDATE shopcar SET `select`=#{select} where ProductID=#{productId}
    </update>
    <delete id="deleteProduct">
        delete from shopcar where ProductID=#{productId} and UserNum=#{userNum}

    </delete>
</mapper>